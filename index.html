<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Project</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="main">
        <h1>ðŸŽ¯ Click the Color Game</h1>
        <div class="targetColor">
            Target Color: <span id="targetColorText">green</span>
        </div>
        <div class="score">Score: 0 / 15 | Time Left: 01:00</div>
        <div style="display: flex; flex-wrap: wrap; justify-content: center;">
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
            <div class="divColor"></div>
        </div>
        <div id="resultMessage" class="result-message" style="display: none;">
            <p id="resultText"></p>
            <button onclick="restartGame()">ðŸ”„ Restart</button>
        </div>
    </div>

    <script>
        let score = 0;
        let timeLeft = 60;
        const winScore = 15;
        let colorInterval;
        let timerInterval;

        const colorNames = [
            "red", "blue", "green", "yellow", "purple", "orange",
            "pink", "brown", "aqua", "lime", "teal", "navy",
            "maroon", "olive", "silver", "gray", "black", "white"
        ];

        const correctSound = new Audio("correct-6033.mp3");
        const wrongSound = new Audio("wronganswer-37702.mp3");
        const winSound = new Audio("crowd-cheer-ii-6263 (1).mp3");
        const failSound = new Audio("you-loseheavy-echoed-voice-230555.mp3");

        const getRandomColorName = () => {
            const index = Math.floor(Math.random() * colorNames.length);
            return colorNames[index];
        };

        let targetColor = getRandomColorName();
        document.getElementById("targetColorText").textContent = targetColor;
        document.getElementById("targetColorText").style.backgroundColor = targetColor;

        const formatTime = (seconds) => {
            const min = Math.floor(seconds / 60).toString().padStart(2, '0');
            const sec = (seconds % 60).toString().padStart(2, '0');
            return `${min}:${sec}`;
        };

        const scoreDisplay = document.querySelector(".score");
        const boxes = document.querySelectorAll(".divColor");

        const updateScoreDisplay = () => {
            scoreDisplay.textContent = `Score: ${score} / ${winScore} | Time Left: ${formatTime(timeLeft)}`;
        };

        const changeColorCon = () => {
            clearInterval(colorInterval);
            colorInterval = setInterval(() => {
                boxes.forEach(box => {
                    const colorName = getRandomColorName();
                    box.style.backgroundColor = colorName;
                    box.setAttribute("data-color", colorName);
                });
            }, 1000);
        };

        const startTimer = () => {
            clearInterval(timerInterval);
            updateScoreDisplay();
            timerInterval = setInterval(() => {
                timeLeft--;
                updateScoreDisplay();

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    clearInterval(colorInterval);
                    if (score >= winScore) {
                        winSound.play();
                        showResult("ðŸŽ‰ Congratulations! You win!");
                    } else {
                        failSound.play();
                        showResult("âŒ You failed! Try again!");
                    }
                }
            }, 800);
        };

        boxes.forEach(box => {
            box.addEventListener("click", () => {
                if (timeLeft > 0) {
                    const clickedColor = box.getAttribute("data-color");
                    if (clickedColor === targetColor) {
                        score++;
                        correctSound.play();

                        if (score >= winScore) {
                            clearInterval(timerInterval);
                            clearInterval(colorInterval);
                            winSound.play();
                            showResult("ðŸŽ‰ Congratulations! You win!");
                        }
                    } else {
                        wrongSound.play();
                    }
                    updateScoreDisplay();
                }
            });
        });

        function showResult(message) {
            const resultBox = document.getElementById("resultMessage");
            const resultText = document.getElementById("resultText");
            resultText.innerHTML = message;
            resultBox.style.display = "block";
        }

        function restartGame() {
            winSound.pause(); winSound.currentTime = 0;
            failSound.pause(); failSound.currentTime = 0;
            correctSound.pause(); correctSound.currentTime = 0;
            wrongSound.pause(); wrongSound.currentTime = 0;

            score = 0;
            timeLeft = 60;
            targetColor = getRandomColorName();
            document.getElementById("targetColorText").textContent = targetColor;
            document.getElementById("targetColorText").style.backgroundColor = targetColor;
            document.getElementById("resultMessage").style.display = "none";
            updateScoreDisplay();
            changeColorCon();
            startTimer();
        }

        // Start game
        changeColorCon();
        startTimer();
    </script>
</body>

</html>